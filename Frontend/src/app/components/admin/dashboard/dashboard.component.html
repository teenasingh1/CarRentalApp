<app-navbar></app-navbar>
<div class="container">

    <div class="row mt-5">
        
        <!-- return Requests -->

        <div class="col-md-6 col-sm-12 d-flex align-items-center flex-column " style="border-right: 5px solid red;">
          <div class="row p-2">
            <h3 >Return Request</h3>
          </div>
          
          <div class="row">
            <div *ngIf="!hasReturnRequest" style="text-align: center; margin-top: 50px;"> EmptyðŸ˜ž</div>

              <ng-container *ngFor="let agreement of agreementList">
                <!-- <h5>{{agreement.agreementStatus}}</h5> -->
                <div *ngIf="agreement.agreementStatus==1">
                  <div class="card col-md-12 mb-2" style="width: fit-content;">
                    
                    
                    <div class="row">
                      <!-- Image -->
                      <div class="col-7"  >
                        <img class="card-img-top p-2" style="height: 100%; width:100%; border-radius: 8%;" src="{{agreement.car.carImage}}" alt="Card image cap">
                      </div>
                      <!-- Details -->

                      <div class="card-body col-5"  >
                        <h5 class="card-title" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{agreement.car.name}}</h5>
                        
                        <p class="card-text">
                          <span><b>{{agreement.car.maker.makerName}}-{{agreement.car.model.modelName}}</b></span>
                          <br/>
                          <span> Start Date : <b>{{agreement.startDate}}</b> </span>
                          <br/>
                          <span>End Date : <b>{{agreement.endDate}}</b> </span>
                          <br/>
                          <span>Total Amount : <b> â‚¹{{agreement.totalCost}} </b></span>
                        </p>
                        <p class="card-text">

                        <div class="btn-group mt-2">
                          <button class="btn btn-success" (click)="handleReturnRequest(agreement)">Approve Return Request</button>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </ng-container>
          </div>
        </div>

        <!-- Agreements -->

        <div class="col-md-6 col-sm-12 d-flex align-items-center flex-column">

          <div class="row p-2">
            <h3>Agreements</h3>
          </div>
          
          <div class="row">
            <div style="text-align: center; margin-top: 50px;" *ngIf="agreementList.length==0"><span>EmptyðŸ˜Ÿ</span></div>
            <ng-container *ngFor="let agreement of agreementList">
                <div *ngIf="agreement.agreementStatus==2|| agreement.agreementStatus==0">
                  
                  <div class="card col-md-12 mb-2 " style="width: fit-content;">
                    
                    <div class="row">
                      <!-- Image -->
                      <div class="col-md-7">
                        <img class="card-img-top p-2" style="width: 100%; height: 100%; border-radius: 8%;" src="{{agreement.car.carImage}}" alt="Card image cap">
                      </div>
                      
                      <!-- Details -->
                      <div class="card-body col-md-5">
                        <h5 class="card-title" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{agreement.car.name}}</h5>
                        
                        <p class="card-text">
                          <span><b>{{agreement.car.maker.makerName}}-{{agreement.car.model.modelName}}</b></span>
                          <br/>
                          <span> Start Date : <b>{{agreement.startDate}}</b> </span>
                          <br/>
                          <span>End Date : <b>{{agreement.endDate}}</b> </span>
                          <br/>
                          <span>Total Amount : <b>â‚¹{{agreement.totalCost}} </b></span>
                        </p>
                       
                        <a *ngIf="agreement.agreementStatus==0" class=" card-link btn btn-primary" [routerLink]="['edit',agreement.id]" >Update</a>
                        <button class=" card-link btn btn-danger" (click)="handleDelete(agreement.id)">Delete</button>
                        
                      </div>
                      
                    </div>

                </div>
              </div>
            </ng-container>
          </div>

        </div>

    </div>
</div>